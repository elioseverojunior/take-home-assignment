{
  "version": 4,
  "terraform_version": "1.2.8",
  "serial": 417,
  "lineage": "d6a780a5-dfed-4c1b-6fea-baea6d3fb1af",
  "outputs": {
    "deployment": {
      "value": {
        "id": "webserver-assessment/dockerize",
        "metadata": [
          {
            "annotations": {},
            "generate_name": "",
            "generation": 1,
            "labels": {
              "app": "dockerize"
            },
            "name": "dockerize",
            "namespace": "webserver-assessment",
            "resource_version": "7786",
            "uid": "e0664f09-5b17-4707-9422-7c09c240ce95"
          }
        ],
        "spec": [
          {
            "min_ready_seconds": 0,
            "paused": false,
            "progress_deadline_seconds": 300,
            "replicas": "2",
            "revision_history_limit": 10,
            "selector": [
              {
                "match_expressions": [],
                "match_labels": {
                  "app": "dockerize"
                }
              }
            ],
            "strategy": [
              {
                "rolling_update": [
                  {
                    "max_surge": "1",
                    "max_unavailable": "0"
                  }
                ],
                "type": "RollingUpdate"
              }
            ],
            "template": [
              {
                "metadata": [
                  {
                    "annotations": {},
                    "generate_name": "",
                    "generation": 0,
                    "labels": {
                      "app": "dockerize"
                    },
                    "name": "dockerize",
                    "namespace": "webserver-assessment",
                    "resource_version": "",
                    "uid": ""
                  }
                ],
                "spec": [
                  {
                    "active_deadline_seconds": 0,
                    "affinity": [],
                    "automount_service_account_token": true,
                    "container": [
                      {
                        "args": [],
                        "command": [],
                        "env": [],
                        "env_from": [
                          {
                            "config_map_ref": [],
                            "prefix": "",
                            "secret_ref": [
                              {
                                "name": "database-secrets",
                                "optional": false
                              }
                            ]
                          }
                        ],
                        "image": "elioseverojunior/dockerize:latest",
                        "image_pull_policy": "IfNotPresent",
                        "lifecycle": [
                          {
                            "post_start": [],
                            "pre_stop": [
                              {
                                "exec": [
                                  {
                                    "command": [
                                      "sh",
                                      "-c",
                                      "/app/scripts/prestop.sh"
                                    ]
                                  }
                                ],
                                "http_get": [],
                                "tcp_socket": []
                              }
                            ]
                          }
                        ],
                        "liveness_probe": [
                          {
                            "exec": [],
                            "failure_threshold": 3,
                            "http_get": [
                              {
                                "host": "",
                                "http_header": [],
                                "path": "/",
                                "port": "8080",
                                "scheme": "HTTP"
                              }
                            ],
                            "initial_delay_seconds": 10,
                            "period_seconds": 5,
                            "success_threshold": 1,
                            "tcp_socket": [],
                            "timeout_seconds": 2
                          }
                        ],
                        "name": "dockerize",
                        "port": [
                          {
                            "container_port": 8080,
                            "host_ip": "",
                            "host_port": 0,
                            "name": "",
                            "protocol": "TCP"
                          }
                        ],
                        "readiness_probe": [
                          {
                            "exec": [],
                            "failure_threshold": 3,
                            "http_get": [
                              {
                                "host": "",
                                "http_header": [],
                                "path": "/",
                                "port": "8080",
                                "scheme": "HTTP"
                              }
                            ],
                            "initial_delay_seconds": 10,
                            "period_seconds": 10,
                            "success_threshold": 1,
                            "tcp_socket": [],
                            "timeout_seconds": 2
                          }
                        ],
                        "resources": [
                          {
                            "limits": {
                              "cpu": "100m",
                              "memory": "128Mi"
                            },
                            "requests": {
                              "cpu": "100m",
                              "memory": "128Mi"
                            }
                          }
                        ],
                        "security_context": [],
                        "startup_probe": [],
                        "stdin": false,
                        "stdin_once": false,
                        "termination_message_path": "/dev/termination-log",
                        "termination_message_policy": "File",
                        "tty": false,
                        "volume_mount": [
                          {
                            "mount_path": "/app/server.config",
                            "mount_propagation": "None",
                            "name": "database-secrets",
                            "read_only": true,
                            "sub_path": "server.config"
                          },
                          {
                            "mount_path": "/app/scripts/prestop.sh",
                            "mount_propagation": "None",
                            "name": "executable-scripts",
                            "read_only": true,
                            "sub_path": "prestop.sh"
                          }
                        ],
                        "working_dir": ""
                      }
                    ],
                    "dns_config": [],
                    "dns_policy": "ClusterFirst",
                    "enable_service_links": true,
                    "host_aliases": [],
                    "host_ipc": false,
                    "host_network": false,
                    "host_pid": false,
                    "hostname": "",
                    "image_pull_secrets": [],
                    "init_container": [
                      {
                        "args": [],
                        "command": [
                          "/bin/sh",
                          "-c",
                          "/app/init.sh"
                        ],
                        "env": [],
                        "env_from": [
                          {
                            "config_map_ref": [],
                            "prefix": "",
                            "secret_ref": [
                              {
                                "name": "database-secrets",
                                "optional": false
                              }
                            ]
                          }
                        ],
                        "image": "busybox",
                        "image_pull_policy": "IfNotPresent",
                        "lifecycle": [],
                        "liveness_probe": [],
                        "name": "init",
                        "port": [],
                        "readiness_probe": [],
                        "resources": [
                          {
                            "limits": null,
                            "requests": null
                          }
                        ],
                        "security_context": [],
                        "startup_probe": [],
                        "stdin": false,
                        "stdin_once": false,
                        "termination_message_path": "/dev/termination-log",
                        "termination_message_policy": "File",
                        "tty": false,
                        "volume_mount": [
                          {
                            "mount_path": "/app/server.config",
                            "mount_propagation": "None",
                            "name": "database-secrets",
                            "read_only": true,
                            "sub_path": "server.config"
                          },
                          {
                            "mount_path": "/app/init.sh",
                            "mount_propagation": "None",
                            "name": "executable-scripts",
                            "read_only": true,
                            "sub_path": "init.sh"
                          },
                          {
                            "mount_path": "/app/init.sql",
                            "mount_propagation": "None",
                            "name": "mysql-scripts",
                            "read_only": true,
                            "sub_path": "init.sql"
                          }
                        ],
                        "working_dir": ""
                      }
                    ],
                    "node_name": "",
                    "node_selector": {},
                    "priority_class_name": "",
                    "readiness_gate": [],
                    "restart_policy": "Always",
                    "security_context": [],
                    "service_account_name": "",
                    "share_process_namespace": false,
                    "subdomain": "",
                    "termination_grace_period_seconds": 60,
                    "toleration": [],
                    "topology_spread_constraint": [],
                    "volume": [
                      {
                        "aws_elastic_block_store": [],
                        "azure_disk": [],
                        "azure_file": [],
                        "ceph_fs": [],
                        "cinder": [],
                        "config_map": [],
                        "csi": [],
                        "downward_api": [],
                        "empty_dir": [],
                        "fc": [],
                        "flex_volume": [],
                        "flocker": [],
                        "gce_persistent_disk": [],
                        "git_repo": [],
                        "glusterfs": [],
                        "host_path": [],
                        "iscsi": [],
                        "local": [],
                        "name": "database-secrets",
                        "nfs": [],
                        "persistent_volume_claim": [],
                        "photon_persistent_disk": [],
                        "projected": [],
                        "quobyte": [],
                        "rbd": [],
                        "secret": [
                          {
                            "default_mode": "0644",
                            "items": [
                              {
                                "key": "server.config",
                                "mode": "",
                                "path": "server.config"
                              }
                            ],
                            "optional": false,
                            "secret_name": "database-secrets"
                          }
                        ],
                        "vsphere_volume": []
                      },
                      {
                        "aws_elastic_block_store": [],
                        "azure_disk": [],
                        "azure_file": [],
                        "ceph_fs": [],
                        "cinder": [],
                        "config_map": [
                          {
                            "default_mode": "0755",
                            "items": [
                              {
                                "key": "init.sh",
                                "mode": "",
                                "path": "init.sh"
                              },
                              {
                                "key": "prestop.sh",
                                "mode": "",
                                "path": "prestop.sh"
                              }
                            ],
                            "name": "executable-scripts",
                            "optional": false
                          }
                        ],
                        "csi": [],
                        "downward_api": [],
                        "empty_dir": [],
                        "fc": [],
                        "flex_volume": [],
                        "flocker": [],
                        "gce_persistent_disk": [],
                        "git_repo": [],
                        "glusterfs": [],
                        "host_path": [],
                        "iscsi": [],
                        "local": [],
                        "name": "executable-scripts",
                        "nfs": [],
                        "persistent_volume_claim": [],
                        "photon_persistent_disk": [],
                        "projected": [],
                        "quobyte": [],
                        "rbd": [],
                        "secret": [],
                        "vsphere_volume": []
                      },
                      {
                        "aws_elastic_block_store": [],
                        "azure_disk": [],
                        "azure_file": [],
                        "ceph_fs": [],
                        "cinder": [],
                        "config_map": [
                          {
                            "default_mode": "0755",
                            "items": [
                              {
                                "key": "init.sql",
                                "mode": "",
                                "path": "init.sql"
                              }
                            ],
                            "name": "mysql-scripts",
                            "optional": false
                          }
                        ],
                        "csi": [],
                        "downward_api": [],
                        "empty_dir": [],
                        "fc": [],
                        "flex_volume": [],
                        "flocker": [],
                        "gce_persistent_disk": [],
                        "git_repo": [],
                        "glusterfs": [],
                        "host_path": [],
                        "iscsi": [],
                        "local": [],
                        "name": "mysql-scripts",
                        "nfs": [],
                        "persistent_volume_claim": [],
                        "photon_persistent_disk": [],
                        "projected": [],
                        "quobyte": [],
                        "rbd": [],
                        "secret": [],
                        "vsphere_volume": []
                      }
                    ]
                  }
                ]
              }
            ]
          }
        ],
        "timeouts": null,
        "wait_for_rollout": true
      },
      "type": [
        "object",
        {
          "id": "string",
          "metadata": [
            "list",
            [
              "object",
              {
                "annotations": [
                  "map",
                  "string"
                ],
                "generate_name": "string",
                "generation": "number",
                "labels": [
                  "map",
                  "string"
                ],
                "name": "string",
                "namespace": "string",
                "resource_version": "string",
                "uid": "string"
              }
            ]
          ],
          "spec": [
            "list",
            [
              "object",
              {
                "min_ready_seconds": "number",
                "paused": "bool",
                "progress_deadline_seconds": "number",
                "replicas": "string",
                "revision_history_limit": "number",
                "selector": [
                  "list",
                  [
                    "object",
                    {
                      "match_expressions": [
                        "list",
                        [
                          "object",
                          {
                            "key": "string",
                            "operator": "string",
                            "values": [
                              "set",
                              "string"
                            ]
                          }
                        ]
                      ],
                      "match_labels": [
                        "map",
                        "string"
                      ]
                    }
                  ]
                ],
                "strategy": [
                  "list",
                  [
                    "object",
                    {
                      "rolling_update": [
                        "list",
                        [
                          "object",
                          {
                            "max_surge": "string",
                            "max_unavailable": "string"
                          }
                        ]
                      ],
                      "type": "string"
                    }
                  ]
                ],
                "template": [
                  "list",
                  [
                    "object",
                    {
                      "metadata": [
                        "list",
                        [
                          "object",
                          {
                            "annotations": [
                              "map",
                              "string"
                            ],
                            "generate_name": "string",
                            "generation": "number",
                            "labels": [
                              "map",
                              "string"
                            ],
                            "name": "string",
                            "namespace": "string",
                            "resource_version": "string",
                            "uid": "string"
                          }
                        ]
                      ],
                      "spec": [
                        "list",
                        [
                          "object",
                          {
                            "active_deadline_seconds": "number",
                            "affinity": [
                              "list",
                              [
                                "object",
                                {
                                  "node_affinity": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "preferred_during_scheduling_ignored_during_execution": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "preference": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "match_expressions": [
                                                      "list",
                                                      [
                                                        "object",
                                                        {
                                                          "key": "string",
                                                          "operator": "string",
                                                          "values": [
                                                            "set",
                                                            "string"
                                                          ]
                                                        }
                                                      ]
                                                    ]
                                                  }
                                                ]
                                              ],
                                              "weight": "number"
                                            }
                                          ]
                                        ],
                                        "required_during_scheduling_ignored_during_execution": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "node_selector_term": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "match_expressions": [
                                                      "list",
                                                      [
                                                        "object",
                                                        {
                                                          "key": "string",
                                                          "operator": "string",
                                                          "values": [
                                                            "set",
                                                            "string"
                                                          ]
                                                        }
                                                      ]
                                                    ]
                                                  }
                                                ]
                                              ]
                                            }
                                          ]
                                        ]
                                      }
                                    ]
                                  ],
                                  "pod_affinity": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "preferred_during_scheduling_ignored_during_execution": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "pod_affinity_term": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "label_selector": [
                                                      "list",
                                                      [
                                                        "object",
                                                        {
                                                          "match_expressions": [
                                                            "list",
                                                            [
                                                              "object",
                                                              {
                                                                "key": "string",
                                                                "operator": "string",
                                                                "values": [
                                                                  "set",
                                                                  "string"
                                                                ]
                                                              }
                                                            ]
                                                          ],
                                                          "match_labels": [
                                                            "map",
                                                            "string"
                                                          ]
                                                        }
                                                      ]
                                                    ],
                                                    "namespaces": [
                                                      "set",
                                                      "string"
                                                    ],
                                                    "topology_key": "string"
                                                  }
                                                ]
                                              ],
                                              "weight": "number"
                                            }
                                          ]
                                        ],
                                        "required_during_scheduling_ignored_during_execution": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "label_selector": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "match_expressions": [
                                                      "list",
                                                      [
                                                        "object",
                                                        {
                                                          "key": "string",
                                                          "operator": "string",
                                                          "values": [
                                                            "set",
                                                            "string"
                                                          ]
                                                        }
                                                      ]
                                                    ],
                                                    "match_labels": [
                                                      "map",
                                                      "string"
                                                    ]
                                                  }
                                                ]
                                              ],
                                              "namespaces": [
                                                "set",
                                                "string"
                                              ],
                                              "topology_key": "string"
                                            }
                                          ]
                                        ]
                                      }
                                    ]
                                  ],
                                  "pod_anti_affinity": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "preferred_during_scheduling_ignored_during_execution": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "pod_affinity_term": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "label_selector": [
                                                      "list",
                                                      [
                                                        "object",
                                                        {
                                                          "match_expressions": [
                                                            "list",
                                                            [
                                                              "object",
                                                              {
                                                                "key": "string",
                                                                "operator": "string",
                                                                "values": [
                                                                  "set",
                                                                  "string"
                                                                ]
                                                              }
                                                            ]
                                                          ],
                                                          "match_labels": [
                                                            "map",
                                                            "string"
                                                          ]
                                                        }
                                                      ]
                                                    ],
                                                    "namespaces": [
                                                      "set",
                                                      "string"
                                                    ],
                                                    "topology_key": "string"
                                                  }
                                                ]
                                              ],
                                              "weight": "number"
                                            }
                                          ]
                                        ],
                                        "required_during_scheduling_ignored_during_execution": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "label_selector": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "match_expressions": [
                                                      "list",
                                                      [
                                                        "object",
                                                        {
                                                          "key": "string",
                                                          "operator": "string",
                                                          "values": [
                                                            "set",
                                                            "string"
                                                          ]
                                                        }
                                                      ]
                                                    ],
                                                    "match_labels": [
                                                      "map",
                                                      "string"
                                                    ]
                                                  }
                                                ]
                                              ],
                                              "namespaces": [
                                                "set",
                                                "string"
                                              ],
                                              "topology_key": "string"
                                            }
                                          ]
                                        ]
                                      }
                                    ]
                                  ]
                                }
                              ]
                            ],
                            "automount_service_account_token": "bool",
                            "container": [
                              "list",
                              [
                                "object",
                                {
                                  "args": [
                                    "list",
                                    "string"
                                  ],
                                  "command": [
                                    "list",
                                    "string"
                                  ],
                                  "env": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "name": "string",
                                        "value": "string",
                                        "value_from": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "config_map_key_ref": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "key": "string",
                                                    "name": "string",
                                                    "optional": "bool"
                                                  }
                                                ]
                                              ],
                                              "field_ref": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "api_version": "string",
                                                    "field_path": "string"
                                                  }
                                                ]
                                              ],
                                              "resource_field_ref": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "container_name": "string",
                                                    "divisor": "string",
                                                    "resource": "string"
                                                  }
                                                ]
                                              ],
                                              "secret_key_ref": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "key": "string",
                                                    "name": "string",
                                                    "optional": "bool"
                                                  }
                                                ]
                                              ]
                                            }
                                          ]
                                        ]
                                      }
                                    ]
                                  ],
                                  "env_from": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "config_map_ref": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "name": "string",
                                              "optional": "bool"
                                            }
                                          ]
                                        ],
                                        "prefix": "string",
                                        "secret_ref": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "name": "string",
                                              "optional": "bool"
                                            }
                                          ]
                                        ]
                                      }
                                    ]
                                  ],
                                  "image": "string",
                                  "image_pull_policy": "string",
                                  "lifecycle": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "post_start": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "exec": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "command": [
                                                      "list",
                                                      "string"
                                                    ]
                                                  }
                                                ]
                                              ],
                                              "http_get": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "host": "string",
                                                    "http_header": [
                                                      "list",
                                                      [
                                                        "object",
                                                        {
                                                          "name": "string",
                                                          "value": "string"
                                                        }
                                                      ]
                                                    ],
                                                    "path": "string",
                                                    "port": "string",
                                                    "scheme": "string"
                                                  }
                                                ]
                                              ],
                                              "tcp_socket": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "port": "string"
                                                  }
                                                ]
                                              ]
                                            }
                                          ]
                                        ],
                                        "pre_stop": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "exec": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "command": [
                                                      "list",
                                                      "string"
                                                    ]
                                                  }
                                                ]
                                              ],
                                              "http_get": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "host": "string",
                                                    "http_header": [
                                                      "list",
                                                      [
                                                        "object",
                                                        {
                                                          "name": "string",
                                                          "value": "string"
                                                        }
                                                      ]
                                                    ],
                                                    "path": "string",
                                                    "port": "string",
                                                    "scheme": "string"
                                                  }
                                                ]
                                              ],
                                              "tcp_socket": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "port": "string"
                                                  }
                                                ]
                                              ]
                                            }
                                          ]
                                        ]
                                      }
                                    ]
                                  ],
                                  "liveness_probe": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "exec": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "command": [
                                                "list",
                                                "string"
                                              ]
                                            }
                                          ]
                                        ],
                                        "failure_threshold": "number",
                                        "http_get": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "host": "string",
                                              "http_header": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "name": "string",
                                                    "value": "string"
                                                  }
                                                ]
                                              ],
                                              "path": "string",
                                              "port": "string",
                                              "scheme": "string"
                                            }
                                          ]
                                        ],
                                        "initial_delay_seconds": "number",
                                        "period_seconds": "number",
                                        "success_threshold": "number",
                                        "tcp_socket": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "port": "string"
                                            }
                                          ]
                                        ],
                                        "timeout_seconds": "number"
                                      }
                                    ]
                                  ],
                                  "name": "string",
                                  "port": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "container_port": "number",
                                        "host_ip": "string",
                                        "host_port": "number",
                                        "name": "string",
                                        "protocol": "string"
                                      }
                                    ]
                                  ],
                                  "readiness_probe": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "exec": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "command": [
                                                "list",
                                                "string"
                                              ]
                                            }
                                          ]
                                        ],
                                        "failure_threshold": "number",
                                        "http_get": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "host": "string",
                                              "http_header": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "name": "string",
                                                    "value": "string"
                                                  }
                                                ]
                                              ],
                                              "path": "string",
                                              "port": "string",
                                              "scheme": "string"
                                            }
                                          ]
                                        ],
                                        "initial_delay_seconds": "number",
                                        "period_seconds": "number",
                                        "success_threshold": "number",
                                        "tcp_socket": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "port": "string"
                                            }
                                          ]
                                        ],
                                        "timeout_seconds": "number"
                                      }
                                    ]
                                  ],
                                  "resources": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "limits": [
                                          "map",
                                          "string"
                                        ],
                                        "requests": [
                                          "map",
                                          "string"
                                        ]
                                      }
                                    ]
                                  ],
                                  "security_context": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "allow_privilege_escalation": "bool",
                                        "capabilities": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "add": [
                                                "list",
                                                "string"
                                              ],
                                              "drop": [
                                                "list",
                                                "string"
                                              ]
                                            }
                                          ]
                                        ],
                                        "privileged": "bool",
                                        "read_only_root_filesystem": "bool",
                                        "run_as_group": "string",
                                        "run_as_non_root": "bool",
                                        "run_as_user": "string",
                                        "se_linux_options": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "level": "string",
                                              "role": "string",
                                              "type": "string",
                                              "user": "string"
                                            }
                                          ]
                                        ],
                                        "seccomp_profile": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "localhost_profile": "string",
                                              "type": "string"
                                            }
                                          ]
                                        ]
                                      }
                                    ]
                                  ],
                                  "startup_probe": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "exec": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "command": [
                                                "list",
                                                "string"
                                              ]
                                            }
                                          ]
                                        ],
                                        "failure_threshold": "number",
                                        "http_get": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "host": "string",
                                              "http_header": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "name": "string",
                                                    "value": "string"
                                                  }
                                                ]
                                              ],
                                              "path": "string",
                                              "port": "string",
                                              "scheme": "string"
                                            }
                                          ]
                                        ],
                                        "initial_delay_seconds": "number",
                                        "period_seconds": "number",
                                        "success_threshold": "number",
                                        "tcp_socket": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "port": "string"
                                            }
                                          ]
                                        ],
                                        "timeout_seconds": "number"
                                      }
                                    ]
                                  ],
                                  "stdin": "bool",
                                  "stdin_once": "bool",
                                  "termination_message_path": "string",
                                  "termination_message_policy": "string",
                                  "tty": "bool",
                                  "volume_mount": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "mount_path": "string",
                                        "mount_propagation": "string",
                                        "name": "string",
                                        "read_only": "bool",
                                        "sub_path": "string"
                                      }
                                    ]
                                  ],
                                  "working_dir": "string"
                                }
                              ]
                            ],
                            "dns_config": [
                              "list",
                              [
                                "object",
                                {
                                  "nameservers": [
                                    "list",
                                    "string"
                                  ],
                                  "option": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "name": "string",
                                        "value": "string"
                                      }
                                    ]
                                  ],
                                  "searches": [
                                    "list",
                                    "string"
                                  ]
                                }
                              ]
                            ],
                            "dns_policy": "string",
                            "enable_service_links": "bool",
                            "host_aliases": [
                              "list",
                              [
                                "object",
                                {
                                  "hostnames": [
                                    "list",
                                    "string"
                                  ],
                                  "ip": "string"
                                }
                              ]
                            ],
                            "host_ipc": "bool",
                            "host_network": "bool",
                            "host_pid": "bool",
                            "hostname": "string",
                            "image_pull_secrets": [
                              "list",
                              [
                                "object",
                                {
                                  "name": "string"
                                }
                              ]
                            ],
                            "init_container": [
                              "list",
                              [
                                "object",
                                {
                                  "args": [
                                    "list",
                                    "string"
                                  ],
                                  "command": [
                                    "list",
                                    "string"
                                  ],
                                  "env": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "name": "string",
                                        "value": "string",
                                        "value_from": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "config_map_key_ref": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "key": "string",
                                                    "name": "string",
                                                    "optional": "bool"
                                                  }
                                                ]
                                              ],
                                              "field_ref": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "api_version": "string",
                                                    "field_path": "string"
                                                  }
                                                ]
                                              ],
                                              "resource_field_ref": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "container_name": "string",
                                                    "divisor": "string",
                                                    "resource": "string"
                                                  }
                                                ]
                                              ],
                                              "secret_key_ref": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "key": "string",
                                                    "name": "string",
                                                    "optional": "bool"
                                                  }
                                                ]
                                              ]
                                            }
                                          ]
                                        ]
                                      }
                                    ]
                                  ],
                                  "env_from": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "config_map_ref": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "name": "string",
                                              "optional": "bool"
                                            }
                                          ]
                                        ],
                                        "prefix": "string",
                                        "secret_ref": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "name": "string",
                                              "optional": "bool"
                                            }
                                          ]
                                        ]
                                      }
                                    ]
                                  ],
                                  "image": "string",
                                  "image_pull_policy": "string",
                                  "lifecycle": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "post_start": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "exec": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "command": [
                                                      "list",
                                                      "string"
                                                    ]
                                                  }
                                                ]
                                              ],
                                              "http_get": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "host": "string",
                                                    "http_header": [
                                                      "list",
                                                      [
                                                        "object",
                                                        {
                                                          "name": "string",
                                                          "value": "string"
                                                        }
                                                      ]
                                                    ],
                                                    "path": "string",
                                                    "port": "string",
                                                    "scheme": "string"
                                                  }
                                                ]
                                              ],
                                              "tcp_socket": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "port": "string"
                                                  }
                                                ]
                                              ]
                                            }
                                          ]
                                        ],
                                        "pre_stop": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "exec": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "command": [
                                                      "list",
                                                      "string"
                                                    ]
                                                  }
                                                ]
                                              ],
                                              "http_get": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "host": "string",
                                                    "http_header": [
                                                      "list",
                                                      [
                                                        "object",
                                                        {
                                                          "name": "string",
                                                          "value": "string"
                                                        }
                                                      ]
                                                    ],
                                                    "path": "string",
                                                    "port": "string",
                                                    "scheme": "string"
                                                  }
                                                ]
                                              ],
                                              "tcp_socket": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "port": "string"
                                                  }
                                                ]
                                              ]
                                            }
                                          ]
                                        ]
                                      }
                                    ]
                                  ],
                                  "liveness_probe": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "exec": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "command": [
                                                "list",
                                                "string"
                                              ]
                                            }
                                          ]
                                        ],
                                        "failure_threshold": "number",
                                        "http_get": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "host": "string",
                                              "http_header": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "name": "string",
                                                    "value": "string"
                                                  }
                                                ]
                                              ],
                                              "path": "string",
                                              "port": "string",
                                              "scheme": "string"
                                            }
                                          ]
                                        ],
                                        "initial_delay_seconds": "number",
                                        "period_seconds": "number",
                                        "success_threshold": "number",
                                        "tcp_socket": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "port": "string"
                                            }
                                          ]
                                        ],
                                        "timeout_seconds": "number"
                                      }
                                    ]
                                  ],
                                  "name": "string",
                                  "port": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "container_port": "number",
                                        "host_ip": "string",
                                        "host_port": "number",
                                        "name": "string",
                                        "protocol": "string"
                                      }
                                    ]
                                  ],
                                  "readiness_probe": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "exec": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "command": [
                                                "list",
                                                "string"
                                              ]
                                            }
                                          ]
                                        ],
                                        "failure_threshold": "number",
                                        "http_get": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "host": "string",
                                              "http_header": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "name": "string",
                                                    "value": "string"
                                                  }
                                                ]
                                              ],
                                              "path": "string",
                                              "port": "string",
                                              "scheme": "string"
                                            }
                                          ]
                                        ],
                                        "initial_delay_seconds": "number",
                                        "period_seconds": "number",
                                        "success_threshold": "number",
                                        "tcp_socket": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "port": "string"
                                            }
                                          ]
                                        ],
                                        "timeout_seconds": "number"
                                      }
                                    ]
                                  ],
                                  "resources": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "limits": [
                                          "map",
                                          "string"
                                        ],
                                        "requests": [
                                          "map",
                                          "string"
                                        ]
                                      }
                                    ]
                                  ],
                                  "security_context": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "allow_privilege_escalation": "bool",
                                        "capabilities": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "add": [
                                                "list",
                                                "string"
                                              ],
                                              "drop": [
                                                "list",
                                                "string"
                                              ]
                                            }
                                          ]
                                        ],
                                        "privileged": "bool",
                                        "read_only_root_filesystem": "bool",
                                        "run_as_group": "string",
                                        "run_as_non_root": "bool",
                                        "run_as_user": "string",
                                        "se_linux_options": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "level": "string",
                                              "role": "string",
                                              "type": "string",
                                              "user": "string"
                                            }
                                          ]
                                        ],
                                        "seccomp_profile": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "localhost_profile": "string",
                                              "type": "string"
                                            }
                                          ]
                                        ]
                                      }
                                    ]
                                  ],
                                  "startup_probe": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "exec": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "command": [
                                                "list",
                                                "string"
                                              ]
                                            }
                                          ]
                                        ],
                                        "failure_threshold": "number",
                                        "http_get": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "host": "string",
                                              "http_header": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "name": "string",
                                                    "value": "string"
                                                  }
                                                ]
                                              ],
                                              "path": "string",
                                              "port": "string",
                                              "scheme": "string"
                                            }
                                          ]
                                        ],
                                        "initial_delay_seconds": "number",
                                        "period_seconds": "number",
                                        "success_threshold": "number",
                                        "tcp_socket": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "port": "string"
                                            }
                                          ]
                                        ],
                                        "timeout_seconds": "number"
                                      }
                                    ]
                                  ],
                                  "stdin": "bool",
                                  "stdin_once": "bool",
                                  "termination_message_path": "string",
                                  "termination_message_policy": "string",
                                  "tty": "bool",
                                  "volume_mount": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "mount_path": "string",
                                        "mount_propagation": "string",
                                        "name": "string",
                                        "read_only": "bool",
                                        "sub_path": "string"
                                      }
                                    ]
                                  ],
                                  "working_dir": "string"
                                }
                              ]
                            ],
                            "node_name": "string",
                            "node_selector": [
                              "map",
                              "string"
                            ],
                            "priority_class_name": "string",
                            "readiness_gate": [
                              "list",
                              [
                                "object",
                                {
                                  "condition_type": "string"
                                }
                              ]
                            ],
                            "restart_policy": "string",
                            "security_context": [
                              "list",
                              [
                                "object",
                                {
                                  "fs_group": "string",
                                  "run_as_group": "string",
                                  "run_as_non_root": "bool",
                                  "run_as_user": "string",
                                  "se_linux_options": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "level": "string",
                                        "role": "string",
                                        "type": "string",
                                        "user": "string"
                                      }
                                    ]
                                  ],
                                  "seccomp_profile": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "localhost_profile": "string",
                                        "type": "string"
                                      }
                                    ]
                                  ],
                                  "supplemental_groups": [
                                    "set",
                                    "number"
                                  ],
                                  "sysctl": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "name": "string",
                                        "value": "string"
                                      }
                                    ]
                                  ]
                                }
                              ]
                            ],
                            "service_account_name": "string",
                            "share_process_namespace": "bool",
                            "subdomain": "string",
                            "termination_grace_period_seconds": "number",
                            "toleration": [
                              "list",
                              [
                                "object",
                                {
                                  "effect": "string",
                                  "key": "string",
                                  "operator": "string",
                                  "toleration_seconds": "string",
                                  "value": "string"
                                }
                              ]
                            ],
                            "topology_spread_constraint": [
                              "list",
                              [
                                "object",
                                {
                                  "label_selector": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "match_expressions": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "key": "string",
                                              "operator": "string",
                                              "values": [
                                                "set",
                                                "string"
                                              ]
                                            }
                                          ]
                                        ],
                                        "match_labels": [
                                          "map",
                                          "string"
                                        ]
                                      }
                                    ]
                                  ],
                                  "max_skew": "number",
                                  "topology_key": "string",
                                  "when_unsatisfiable": "string"
                                }
                              ]
                            ],
                            "volume": [
                              "list",
                              [
                                "object",
                                {
                                  "aws_elastic_block_store": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "fs_type": "string",
                                        "partition": "number",
                                        "read_only": "bool",
                                        "volume_id": "string"
                                      }
                                    ]
                                  ],
                                  "azure_disk": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "caching_mode": "string",
                                        "data_disk_uri": "string",
                                        "disk_name": "string",
                                        "fs_type": "string",
                                        "kind": "string",
                                        "read_only": "bool"
                                      }
                                    ]
                                  ],
                                  "azure_file": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "read_only": "bool",
                                        "secret_name": "string",
                                        "secret_namespace": "string",
                                        "share_name": "string"
                                      }
                                    ]
                                  ],
                                  "ceph_fs": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "monitors": [
                                          "set",
                                          "string"
                                        ],
                                        "path": "string",
                                        "read_only": "bool",
                                        "secret_file": "string",
                                        "secret_ref": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "name": "string",
                                              "namespace": "string"
                                            }
                                          ]
                                        ],
                                        "user": "string"
                                      }
                                    ]
                                  ],
                                  "cinder": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "fs_type": "string",
                                        "read_only": "bool",
                                        "volume_id": "string"
                                      }
                                    ]
                                  ],
                                  "config_map": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "default_mode": "string",
                                        "items": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "key": "string",
                                              "mode": "string",
                                              "path": "string"
                                            }
                                          ]
                                        ],
                                        "name": "string",
                                        "optional": "bool"
                                      }
                                    ]
                                  ],
                                  "csi": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "driver": "string",
                                        "fs_type": "string",
                                        "node_publish_secret_ref": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "name": "string"
                                            }
                                          ]
                                        ],
                                        "read_only": "bool",
                                        "volume_attributes": [
                                          "map",
                                          "string"
                                        ]
                                      }
                                    ]
                                  ],
                                  "downward_api": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "default_mode": "string",
                                        "items": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "field_ref": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "api_version": "string",
                                                    "field_path": "string"
                                                  }
                                                ]
                                              ],
                                              "mode": "string",
                                              "path": "string",
                                              "resource_field_ref": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "container_name": "string",
                                                    "divisor": "string",
                                                    "resource": "string"
                                                  }
                                                ]
                                              ]
                                            }
                                          ]
                                        ]
                                      }
                                    ]
                                  ],
                                  "empty_dir": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "medium": "string",
                                        "size_limit": "string"
                                      }
                                    ]
                                  ],
                                  "fc": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "fs_type": "string",
                                        "lun": "number",
                                        "read_only": "bool",
                                        "target_ww_ns": [
                                          "set",
                                          "string"
                                        ]
                                      }
                                    ]
                                  ],
                                  "flex_volume": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "driver": "string",
                                        "fs_type": "string",
                                        "options": [
                                          "map",
                                          "string"
                                        ],
                                        "read_only": "bool",
                                        "secret_ref": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "name": "string",
                                              "namespace": "string"
                                            }
                                          ]
                                        ]
                                      }
                                    ]
                                  ],
                                  "flocker": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "dataset_name": "string",
                                        "dataset_uuid": "string"
                                      }
                                    ]
                                  ],
                                  "gce_persistent_disk": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "fs_type": "string",
                                        "partition": "number",
                                        "pd_name": "string",
                                        "read_only": "bool"
                                      }
                                    ]
                                  ],
                                  "git_repo": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "directory": "string",
                                        "repository": "string",
                                        "revision": "string"
                                      }
                                    ]
                                  ],
                                  "glusterfs": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "endpoints_name": "string",
                                        "path": "string",
                                        "read_only": "bool"
                                      }
                                    ]
                                  ],
                                  "host_path": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "path": "string",
                                        "type": "string"
                                      }
                                    ]
                                  ],
                                  "iscsi": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "fs_type": "string",
                                        "iqn": "string",
                                        "iscsi_interface": "string",
                                        "lun": "number",
                                        "read_only": "bool",
                                        "target_portal": "string"
                                      }
                                    ]
                                  ],
                                  "local": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "path": "string"
                                      }
                                    ]
                                  ],
                                  "name": "string",
                                  "nfs": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "path": "string",
                                        "read_only": "bool",
                                        "server": "string"
                                      }
                                    ]
                                  ],
                                  "persistent_volume_claim": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "claim_name": "string",
                                        "read_only": "bool"
                                      }
                                    ]
                                  ],
                                  "photon_persistent_disk": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "fs_type": "string",
                                        "pd_id": "string"
                                      }
                                    ]
                                  ],
                                  "projected": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "default_mode": "string",
                                        "sources": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "config_map": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "items": [
                                                      "list",
                                                      [
                                                        "object",
                                                        {
                                                          "key": "string",
                                                          "mode": "string",
                                                          "path": "string"
                                                        }
                                                      ]
                                                    ],
                                                    "name": "string",
                                                    "optional": "bool"
                                                  }
                                                ]
                                              ],
                                              "downward_api": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "items": [
                                                      "list",
                                                      [
                                                        "object",
                                                        {
                                                          "field_ref": [
                                                            "list",
                                                            [
                                                              "object",
                                                              {
                                                                "api_version": "string",
                                                                "field_path": "string"
                                                              }
                                                            ]
                                                          ],
                                                          "mode": "string",
                                                          "path": "string",
                                                          "resource_field_ref": [
                                                            "list",
                                                            [
                                                              "object",
                                                              {
                                                                "container_name": "string",
                                                                "divisor": "string",
                                                                "resource": "string"
                                                              }
                                                            ]
                                                          ]
                                                        }
                                                      ]
                                                    ]
                                                  }
                                                ]
                                              ],
                                              "secret": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "items": [
                                                      "list",
                                                      [
                                                        "object",
                                                        {
                                                          "key": "string",
                                                          "mode": "string",
                                                          "path": "string"
                                                        }
                                                      ]
                                                    ],
                                                    "name": "string",
                                                    "optional": "bool"
                                                  }
                                                ]
                                              ],
                                              "service_account_token": [
                                                "list",
                                                [
                                                  "object",
                                                  {
                                                    "audience": "string",
                                                    "expiration_seconds": "number",
                                                    "path": "string"
                                                  }
                                                ]
                                              ]
                                            }
                                          ]
                                        ]
                                      }
                                    ]
                                  ],
                                  "quobyte": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "group": "string",
                                        "read_only": "bool",
                                        "registry": "string",
                                        "user": "string",
                                        "volume": "string"
                                      }
                                    ]
                                  ],
                                  "rbd": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "ceph_monitors": [
                                          "set",
                                          "string"
                                        ],
                                        "fs_type": "string",
                                        "keyring": "string",
                                        "rados_user": "string",
                                        "rbd_image": "string",
                                        "rbd_pool": "string",
                                        "read_only": "bool",
                                        "secret_ref": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "name": "string",
                                              "namespace": "string"
                                            }
                                          ]
                                        ]
                                      }
                                    ]
                                  ],
                                  "secret": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "default_mode": "string",
                                        "items": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "key": "string",
                                              "mode": "string",
                                              "path": "string"
                                            }
                                          ]
                                        ],
                                        "optional": "bool",
                                        "secret_name": "string"
                                      }
                                    ]
                                  ],
                                  "vsphere_volume": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "fs_type": "string",
                                        "volume_path": "string"
                                      }
                                    ]
                                  ]
                                }
                              ]
                            ]
                          }
                        ]
                      ]
                    }
                  ]
                ]
              }
            ]
          ],
          "timeouts": [
            "object",
            {
              "create": "string",
              "delete": "string",
              "update": "string"
            }
          ],
          "wait_for_rollout": "bool"
        }
      ]
    },
    "deployment_yaml": {
      "value": "\"id\": \"webserver-assessment/dockerize\"\n\"metadata\":\n- \"annotations\": {}\n  \"generate_name\": \"\"\n  \"generation\": 1\n  \"labels\":\n    \"app\": \"dockerize\"\n  \"name\": \"dockerize\"\n  \"namespace\": \"webserver-assessment\"\n  \"resource_version\": \"7786\"\n  \"uid\": \"e0664f09-5b17-4707-9422-7c09c240ce95\"\n\"spec\":\n- \"min_ready_seconds\": 0\n  \"paused\": false\n  \"progress_deadline_seconds\": 300\n  \"replicas\": \"2\"\n  \"revision_history_limit\": 10\n  \"selector\":\n  - \"match_expressions\": []\n    \"match_labels\":\n      \"app\": \"dockerize\"\n  \"strategy\":\n  - \"rolling_update\":\n    - \"max_surge\": \"1\"\n      \"max_unavailable\": \"0\"\n    \"type\": \"RollingUpdate\"\n  \"template\":\n  - \"metadata\":\n    - \"annotations\": {}\n      \"generate_name\": \"\"\n      \"generation\": 0\n      \"labels\":\n        \"app\": \"dockerize\"\n      \"name\": \"dockerize\"\n      \"namespace\": \"webserver-assessment\"\n      \"resource_version\": \"\"\n      \"uid\": \"\"\n    \"spec\":\n    - \"active_deadline_seconds\": 0\n      \"affinity\": []\n      \"automount_service_account_token\": true\n      \"container\":\n      - \"args\": []\n        \"command\": []\n        \"env\": []\n        \"env_from\":\n        - \"config_map_ref\": []\n          \"prefix\": \"\"\n          \"secret_ref\":\n          - \"name\": \"database-secrets\"\n            \"optional\": false\n        \"image\": \"elioseverojunior/dockerize:latest\"\n        \"image_pull_policy\": \"IfNotPresent\"\n        \"lifecycle\":\n        - \"post_start\": []\n          \"pre_stop\":\n          - \"exec\":\n            - \"command\":\n              - \"sh\"\n              - \"-c\"\n              - \"/app/scripts/prestop.sh\"\n            \"http_get\": []\n            \"tcp_socket\": []\n        \"liveness_probe\":\n        - \"exec\": []\n          \"failure_threshold\": 3\n          \"http_get\":\n          - \"host\": \"\"\n            \"http_header\": []\n            \"path\": \"/\"\n            \"port\": \"8080\"\n            \"scheme\": \"HTTP\"\n          \"initial_delay_seconds\": 10\n          \"period_seconds\": 5\n          \"success_threshold\": 1\n          \"tcp_socket\": []\n          \"timeout_seconds\": 2\n        \"name\": \"dockerize\"\n        \"port\":\n        - \"container_port\": 8080\n          \"host_ip\": \"\"\n          \"host_port\": 0\n          \"name\": \"\"\n          \"protocol\": \"TCP\"\n        \"readiness_probe\":\n        - \"exec\": []\n          \"failure_threshold\": 3\n          \"http_get\":\n          - \"host\": \"\"\n            \"http_header\": []\n            \"path\": \"/\"\n            \"port\": \"8080\"\n            \"scheme\": \"HTTP\"\n          \"initial_delay_seconds\": 10\n          \"period_seconds\": 10\n          \"success_threshold\": 1\n          \"tcp_socket\": []\n          \"timeout_seconds\": 2\n        \"resources\":\n        - \"limits\":\n            \"cpu\": \"100m\"\n            \"memory\": \"128Mi\"\n          \"requests\":\n            \"cpu\": \"100m\"\n            \"memory\": \"128Mi\"\n        \"security_context\": []\n        \"startup_probe\": []\n        \"stdin\": false\n        \"stdin_once\": false\n        \"termination_message_path\": \"/dev/termination-log\"\n        \"termination_message_policy\": \"File\"\n        \"tty\": false\n        \"volume_mount\":\n        - \"mount_path\": \"/app/server.config\"\n          \"mount_propagation\": \"None\"\n          \"name\": \"database-secrets\"\n          \"read_only\": true\n          \"sub_path\": \"server.config\"\n        - \"mount_path\": \"/app/scripts/prestop.sh\"\n          \"mount_propagation\": \"None\"\n          \"name\": \"executable-scripts\"\n          \"read_only\": true\n          \"sub_path\": \"prestop.sh\"\n        \"working_dir\": \"\"\n      \"dns_config\": []\n      \"dns_policy\": \"ClusterFirst\"\n      \"enable_service_links\": true\n      \"host_aliases\": []\n      \"host_ipc\": false\n      \"host_network\": false\n      \"host_pid\": false\n      \"hostname\": \"\"\n      \"image_pull_secrets\": []\n      \"init_container\":\n      - \"args\": []\n        \"command\":\n        - \"/bin/sh\"\n        - \"-c\"\n        - \"/app/init.sh\"\n        \"env\": []\n        \"env_from\":\n        - \"config_map_ref\": []\n          \"prefix\": \"\"\n          \"secret_ref\":\n          - \"name\": \"database-secrets\"\n            \"optional\": false\n        \"image\": \"busybox\"\n        \"image_pull_policy\": \"IfNotPresent\"\n        \"lifecycle\": []\n        \"liveness_probe\": []\n        \"name\": \"init\"\n        \"port\": []\n        \"readiness_probe\": []\n        \"resources\":\n        - \"limits\": null\n          \"requests\": null\n        \"security_context\": []\n        \"startup_probe\": []\n        \"stdin\": false\n        \"stdin_once\": false\n        \"termination_message_path\": \"/dev/termination-log\"\n        \"termination_message_policy\": \"File\"\n        \"tty\": false\n        \"volume_mount\":\n        - \"mount_path\": \"/app/server.config\"\n          \"mount_propagation\": \"None\"\n          \"name\": \"database-secrets\"\n          \"read_only\": true\n          \"sub_path\": \"server.config\"\n        - \"mount_path\": \"/app/init.sh\"\n          \"mount_propagation\": \"None\"\n          \"name\": \"executable-scripts\"\n          \"read_only\": true\n          \"sub_path\": \"init.sh\"\n        - \"mount_path\": \"/app/init.sql\"\n          \"mount_propagation\": \"None\"\n          \"name\": \"mysql-scripts\"\n          \"read_only\": true\n          \"sub_path\": \"init.sql\"\n        \"working_dir\": \"\"\n      \"node_name\": \"\"\n      \"node_selector\": {}\n      \"priority_class_name\": \"\"\n      \"readiness_gate\": []\n      \"restart_policy\": \"Always\"\n      \"security_context\": []\n      \"service_account_name\": \"\"\n      \"share_process_namespace\": false\n      \"subdomain\": \"\"\n      \"termination_grace_period_seconds\": 60\n      \"toleration\": []\n      \"topology_spread_constraint\": []\n      \"volume\":\n      - \"aws_elastic_block_store\": []\n        \"azure_disk\": []\n        \"azure_file\": []\n        \"ceph_fs\": []\n        \"cinder\": []\n        \"config_map\": []\n        \"csi\": []\n        \"downward_api\": []\n        \"empty_dir\": []\n        \"fc\": []\n        \"flex_volume\": []\n        \"flocker\": []\n        \"gce_persistent_disk\": []\n        \"git_repo\": []\n        \"glusterfs\": []\n        \"host_path\": []\n        \"iscsi\": []\n        \"local\": []\n        \"name\": \"database-secrets\"\n        \"nfs\": []\n        \"persistent_volume_claim\": []\n        \"photon_persistent_disk\": []\n        \"projected\": []\n        \"quobyte\": []\n        \"rbd\": []\n        \"secret\":\n        - \"default_mode\": \"0644\"\n          \"items\":\n          - \"key\": \"server.config\"\n            \"mode\": \"\"\n            \"path\": \"server.config\"\n          \"optional\": false\n          \"secret_name\": \"database-secrets\"\n        \"vsphere_volume\": []\n      - \"aws_elastic_block_store\": []\n        \"azure_disk\": []\n        \"azure_file\": []\n        \"ceph_fs\": []\n        \"cinder\": []\n        \"config_map\":\n        - \"default_mode\": \"0755\"\n          \"items\":\n          - \"key\": \"init.sh\"\n            \"mode\": \"\"\n            \"path\": \"init.sh\"\n          - \"key\": \"prestop.sh\"\n            \"mode\": \"\"\n            \"path\": \"prestop.sh\"\n          \"name\": \"executable-scripts\"\n          \"optional\": false\n        \"csi\": []\n        \"downward_api\": []\n        \"empty_dir\": []\n        \"fc\": []\n        \"flex_volume\": []\n        \"flocker\": []\n        \"gce_persistent_disk\": []\n        \"git_repo\": []\n        \"glusterfs\": []\n        \"host_path\": []\n        \"iscsi\": []\n        \"local\": []\n        \"name\": \"executable-scripts\"\n        \"nfs\": []\n        \"persistent_volume_claim\": []\n        \"photon_persistent_disk\": []\n        \"projected\": []\n        \"quobyte\": []\n        \"rbd\": []\n        \"secret\": []\n        \"vsphere_volume\": []\n      - \"aws_elastic_block_store\": []\n        \"azure_disk\": []\n        \"azure_file\": []\n        \"ceph_fs\": []\n        \"cinder\": []\n        \"config_map\":\n        - \"default_mode\": \"0755\"\n          \"items\":\n          - \"key\": \"init.sql\"\n            \"mode\": \"\"\n            \"path\": \"init.sql\"\n          \"name\": \"mysql-scripts\"\n          \"optional\": false\n        \"csi\": []\n        \"downward_api\": []\n        \"empty_dir\": []\n        \"fc\": []\n        \"flex_volume\": []\n        \"flocker\": []\n        \"gce_persistent_disk\": []\n        \"git_repo\": []\n        \"glusterfs\": []\n        \"host_path\": []\n        \"iscsi\": []\n        \"local\": []\n        \"name\": \"mysql-scripts\"\n        \"nfs\": []\n        \"persistent_volume_claim\": []\n        \"photon_persistent_disk\": []\n        \"projected\": []\n        \"quobyte\": []\n        \"rbd\": []\n        \"secret\": []\n        \"vsphere_volume\": []\n\"timeouts\": null\n\"wait_for_rollout\": true\n",
      "type": "string"
    },
    "hpa": {
      "value": {
        "id": "webserver-assessment/dockerize",
        "metadata": [
          {
            "annotations": {},
            "generate_name": "",
            "generation": 0,
            "labels": {
              "app": "dockerize"
            },
            "name": "dockerize",
            "namespace": "webserver-assessment",
            "resource_version": "7887",
            "uid": "b70c4730-2e8e-4279-a215-030e8914fe2e"
          }
        ],
        "spec": [
          {
            "behavior": [
              {
                "scale_down": [
                  {
                    "policy": [
                      {
                        "period_seconds": 120,
                        "type": "Pods",
                        "value": 1
                      },
                      {
                        "period_seconds": 310,
                        "type": "Percent",
                        "value": 100
                      }
                    ],
                    "select_policy": "Min",
                    "stabilization_window_seconds": 300
                  }
                ],
                "scale_up": [
                  {
                    "policy": [
                      {
                        "period_seconds": 180,
                        "type": "Percent",
                        "value": 100
                      },
                      {
                        "period_seconds": 600,
                        "type": "Pods",
                        "value": 5
                      }
                    ],
                    "select_policy": "Max",
                    "stabilization_window_seconds": 600
                  }
                ]
              }
            ],
            "max_replicas": 10,
            "metric": [
              {
                "container_resource": [],
                "external": [],
                "object": [],
                "pods": [],
                "resource": [
                  {
                    "name": "cpu",
                    "target": [
                      {
                        "average_utilization": 50,
                        "average_value": "",
                        "type": "Utilization",
                        "value": ""
                      }
                    ]
                  }
                ],
                "type": "Resource"
              },
              {
                "container_resource": [],
                "external": [],
                "object": [],
                "pods": [],
                "resource": [
                  {
                    "name": "memory",
                    "target": [
                      {
                        "average_utilization": 50,
                        "average_value": "",
                        "type": "Utilization",
                        "value": ""
                      }
                    ]
                  }
                ],
                "type": "Resource"
              }
            ],
            "min_replicas": 2,
            "scale_target_ref": [
              {
                "api_version": "apps/v1",
                "kind": "Deployment",
                "name": "dockerize"
              }
            ],
            "target_cpu_utilization_percentage": 0
          }
        ]
      },
      "type": [
        "object",
        {
          "id": "string",
          "metadata": [
            "list",
            [
              "object",
              {
                "annotations": [
                  "map",
                  "string"
                ],
                "generate_name": "string",
                "generation": "number",
                "labels": [
                  "map",
                  "string"
                ],
                "name": "string",
                "namespace": "string",
                "resource_version": "string",
                "uid": "string"
              }
            ]
          ],
          "spec": [
            "list",
            [
              "object",
              {
                "behavior": [
                  "list",
                  [
                    "object",
                    {
                      "scale_down": [
                        "list",
                        [
                          "object",
                          {
                            "policy": [
                              "list",
                              [
                                "object",
                                {
                                  "period_seconds": "number",
                                  "type": "string",
                                  "value": "number"
                                }
                              ]
                            ],
                            "select_policy": "string",
                            "stabilization_window_seconds": "number"
                          }
                        ]
                      ],
                      "scale_up": [
                        "list",
                        [
                          "object",
                          {
                            "policy": [
                              "list",
                              [
                                "object",
                                {
                                  "period_seconds": "number",
                                  "type": "string",
                                  "value": "number"
                                }
                              ]
                            ],
                            "select_policy": "string",
                            "stabilization_window_seconds": "number"
                          }
                        ]
                      ]
                    }
                  ]
                ],
                "max_replicas": "number",
                "metric": [
                  "list",
                  [
                    "object",
                    {
                      "container_resource": [
                        "list",
                        [
                          "object",
                          {
                            "container": "string",
                            "name": "string",
                            "target": [
                              "list",
                              [
                                "object",
                                {
                                  "average_utilization": "number",
                                  "average_value": "string",
                                  "type": "string",
                                  "value": "string"
                                }
                              ]
                            ]
                          }
                        ]
                      ],
                      "external": [
                        "list",
                        [
                          "object",
                          {
                            "metric": [
                              "list",
                              [
                                "object",
                                {
                                  "name": "string",
                                  "selector": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "match_expressions": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "key": "string",
                                              "operator": "string",
                                              "values": [
                                                "set",
                                                "string"
                                              ]
                                            }
                                          ]
                                        ],
                                        "match_labels": [
                                          "map",
                                          "string"
                                        ]
                                      }
                                    ]
                                  ]
                                }
                              ]
                            ],
                            "target": [
                              "list",
                              [
                                "object",
                                {
                                  "average_utilization": "number",
                                  "average_value": "string",
                                  "type": "string",
                                  "value": "string"
                                }
                              ]
                            ]
                          }
                        ]
                      ],
                      "object": [
                        "list",
                        [
                          "object",
                          {
                            "described_object": [
                              "list",
                              [
                                "object",
                                {
                                  "api_version": "string",
                                  "kind": "string",
                                  "name": "string"
                                }
                              ]
                            ],
                            "metric": [
                              "list",
                              [
                                "object",
                                {
                                  "name": "string",
                                  "selector": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "match_expressions": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "key": "string",
                                              "operator": "string",
                                              "values": [
                                                "set",
                                                "string"
                                              ]
                                            }
                                          ]
                                        ],
                                        "match_labels": [
                                          "map",
                                          "string"
                                        ]
                                      }
                                    ]
                                  ]
                                }
                              ]
                            ],
                            "target": [
                              "list",
                              [
                                "object",
                                {
                                  "average_utilization": "number",
                                  "average_value": "string",
                                  "type": "string",
                                  "value": "string"
                                }
                              ]
                            ]
                          }
                        ]
                      ],
                      "pods": [
                        "list",
                        [
                          "object",
                          {
                            "metric": [
                              "list",
                              [
                                "object",
                                {
                                  "name": "string",
                                  "selector": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "match_expressions": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "key": "string",
                                              "operator": "string",
                                              "values": [
                                                "set",
                                                "string"
                                              ]
                                            }
                                          ]
                                        ],
                                        "match_labels": [
                                          "map",
                                          "string"
                                        ]
                                      }
                                    ]
                                  ]
                                }
                              ]
                            ],
                            "target": [
                              "list",
                              [
                                "object",
                                {
                                  "average_utilization": "number",
                                  "average_value": "string",
                                  "type": "string",
                                  "value": "string"
                                }
                              ]
                            ]
                          }
                        ]
                      ],
                      "resource": [
                        "list",
                        [
                          "object",
                          {
                            "name": "string",
                            "target": [
                              "list",
                              [
                                "object",
                                {
                                  "average_utilization": "number",
                                  "average_value": "string",
                                  "type": "string",
                                  "value": "string"
                                }
                              ]
                            ]
                          }
                        ]
                      ],
                      "type": "string"
                    }
                  ]
                ],
                "min_replicas": "number",
                "scale_target_ref": [
                  "list",
                  [
                    "object",
                    {
                      "api_version": "string",
                      "kind": "string",
                      "name": "string"
                    }
                  ]
                ],
                "target_cpu_utilization_percentage": "number"
              }
            ]
          ]
        }
      ]
    },
    "service": {
      "value": {
        "id": "webserver-assessment/dockerize",
        "metadata": [
          {
            "annotations": {},
            "generate_name": "",
            "generation": 0,
            "labels": {
              "app": "dockerize"
            },
            "name": "dockerize",
            "namespace": "webserver-assessment",
            "resource_version": "1028",
            "uid": "1e9b328d-7733-4e3c-928f-34e745909b25"
          }
        ],
        "spec": [
          {
            "allocate_load_balancer_node_ports": true,
            "cluster_ip": "10.100.109.171",
            "cluster_ips": [
              "10.100.109.171"
            ],
            "external_ips": [],
            "external_name": "",
            "external_traffic_policy": "Cluster",
            "health_check_node_port": 0,
            "internal_traffic_policy": "Cluster",
            "ip_families": [
              "IPv4"
            ],
            "ip_family_policy": "SingleStack",
            "load_balancer_class": "",
            "load_balancer_ip": "",
            "load_balancer_source_ranges": [],
            "port": [
              {
                "app_protocol": "",
                "name": "http",
                "node_port": 32650,
                "port": 80,
                "protocol": "TCP",
                "target_port": "8080"
              }
            ],
            "publish_not_ready_addresses": false,
            "selector": {
              "app": "dockerize"
            },
            "session_affinity": "None",
            "session_affinity_config": [],
            "type": "LoadBalancer"
          }
        ],
        "status": [
          {
            "load_balancer": [
              {
                "ingress": []
              }
            ]
          }
        ],
        "timeouts": null,
        "wait_for_load_balancer": false
      },
      "type": [
        "object",
        {
          "id": "string",
          "metadata": [
            "list",
            [
              "object",
              {
                "annotations": [
                  "map",
                  "string"
                ],
                "generate_name": "string",
                "generation": "number",
                "labels": [
                  "map",
                  "string"
                ],
                "name": "string",
                "namespace": "string",
                "resource_version": "string",
                "uid": "string"
              }
            ]
          ],
          "spec": [
            "list",
            [
              "object",
              {
                "allocate_load_balancer_node_ports": "bool",
                "cluster_ip": "string",
                "cluster_ips": [
                  "list",
                  "string"
                ],
                "external_ips": [
                  "set",
                  "string"
                ],
                "external_name": "string",
                "external_traffic_policy": "string",
                "health_check_node_port": "number",
                "internal_traffic_policy": "string",
                "ip_families": [
                  "list",
                  "string"
                ],
                "ip_family_policy": "string",
                "load_balancer_class": "string",
                "load_balancer_ip": "string",
                "load_balancer_source_ranges": [
                  "set",
                  "string"
                ],
                "port": [
                  "list",
                  [
                    "object",
                    {
                      "app_protocol": "string",
                      "name": "string",
                      "node_port": "number",
                      "port": "number",
                      "protocol": "string",
                      "target_port": "string"
                    }
                  ]
                ],
                "publish_not_ready_addresses": "bool",
                "selector": [
                  "map",
                  "string"
                ],
                "session_affinity": "string",
                "session_affinity_config": [
                  "list",
                  [
                    "object",
                    {
                      "client_ip": [
                        "list",
                        [
                          "object",
                          {
                            "timeout_seconds": "number"
                          }
                        ]
                      ]
                    }
                  ]
                ],
                "type": "string"
              }
            ]
          ],
          "status": [
            "list",
            [
              "object",
              {
                "load_balancer": [
                  "list",
                  [
                    "object",
                    {
                      "ingress": [
                        "list",
                        [
                          "object",
                          {
                            "hostname": "string",
                            "ip": "string"
                          }
                        ]
                      ]
                    }
                  ]
                ]
              }
            ]
          ],
          "timeouts": [
            "object",
            {
              "create": "string"
            }
          ],
          "wait_for_load_balancer": "bool"
        }
      ]
    }
  },
  "resources": [
    {
      "mode": "managed",
      "type": "kubernetes_config_map",
      "name": "config_maps_scripts",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "binary_data": {},
            "data": {
              "healthcheck-liveness.sh": "#!/bin/bash\nif [[ $(MYSQL_PWD=${MYSQL_ROOT_PASSWORD} mysqladmin ping -u${MYSQL_ROOT_USER} 2\u003e /dev/null | grep alive | wc -l) == 1 ]];\nthen\n    echo \"$(MYSQL_PWD=${MYSQL_ROOT_PASSWORD} mysqladmin ping -u${MYSQL_ROOT_USER} 2\u003e /dev/null). Ok\"\n    exit 0\nelse\n    echo \"$(MYSQL_PWD=${MYSQL_ROOT_PASSWORD} mysqladmin ping -u${MYSQL_ROOT_USER} 2\u003e /dev/null). No Ok\"\n    exit 1\nfi\n",
              "healthcheck-readiness.sh": "#!/bin/bash\nif [[ \"$(MYSQL_PWD=${MYSQL_PASSWORD} mysql -h${MYSQL_HOST} -u${MYSQL_USER} -s -r -e \"SELECT VERSION();\" | awk -F'.' '{print $1}')\" == 8 ]];\nthen\n    echo \"$(MYSQL_PWD=${MYSQL_PASSWORD} mysql -h${MYSQL_HOST} -u${MYSQL_USER} -s -r -e \"SELECT VERSION();\" | awk -F'.' '{print $1}'). Ok\"\n    exit 0\nelse\n    echo \"$(MYSQL_PWD=${MYSQL_PASSWORD} mysql -h${MYSQL_HOST} -u${MYSQL_USER} -s -r -e \"SELECT VERSION();\" | awk -F'.' '{print $1}'). No Ok\"\n    exit 1\nfi\n",
              "init-sql-db.sh": "#!/usr/bin/env sh\n\nset -e pipefail\n\n# Reset\nNC='\\033[0m'\n\n# Regular Colors\nBlack='\\033[0;30m'        # Black\nRed='\\033[0;31m'          # Red\nGreen='\\033[0;32m'        # Green\nYellow='\\033[0;33m'       # Yellow\nBlue='\\033[0;34m'         # Blue\nPurple='\\033[0;35m'       # Purple\nCyan='\\033[0;36m'         # Cyan\nWhite='\\033[0;37m'        # White\n\n# Bold\nBBlack='\\033[1;30m'       # Black\nBRed='\\033[1;31m'         # Red\nBGreen='\\033[1;32m'       # Green\nBYellow='\\033[1;33m'      # Yellow\nBBlue='\\033[1;34m'        # Blue\nBPurple='\\033[1;35m'      # Purple\nBCyan='\\033[1;36m'        # Cyan\nBWhite='\\033[1;37m'       # White\n\n# Underline\nUBlack='\\033[4;30m'       # Black\nURed='\\033[4;31m'         # Red\nUGreen='\\033[4;32m'       # Green\nUYellow='\\033[4;33m'      # Yellow\nUBlue='\\033[4;34m'        # Blue\nUPurple='\\033[4;35m'      # Purple\nUCyan='\\033[4;36m'        # Cyan\nUWhite='\\033[4;37m'       # White\n\n# Background\nOn_Black='\\033[40m'       # Black\nOn_Red='\\033[41m'         # Red\nOn_Green='\\033[42m'       # Green\nOn_Yellow='\\033[43m'      # Yellow\nOn_Blue='\\033[44m'        # Blue\nOn_Purple='\\033[45m'      # Purple\nOn_Cyan='\\033[46m'        # Cyan\nOn_White='\\033[47m'       # White\n\n# High Intensity\nIBlack='\\033[0;90m'       # Black\nIRed='\\033[0;91m'         # Red\nIGreen='\\033[0;92m'       # Green\nIYellow='\\033[0;93m'      # Yellow\nIBlue='\\033[0;94m'        # Blue\nIPurple='\\033[0;95m'      # Purple\nICyan='\\033[0;96m'        # Cyan\nIWhite='\\033[0;97m'       # White\n\n# Bold High Intensity\nBIBlack='\\033[1;90m'      # Black\nBIRed='\\033[1;91m'        # Red\nBIGreen='\\033[1;92m'      # Green\nBIYellow='\\033[1;93m'     # Yellow\nBIBlue='\\033[1;94m'       # Blue\nBIPurple='\\033[1;95m'     # Purple\nBICyan='\\033[1;96m'       # Cyan\nBIWhite='\\033[1;97m'      # White\n\n# High Intensity backgrounds\nOn_IBlack='\\033[0;100m'   # Black\nOn_IRed='\\033[0;101m'     # Red\nOn_IGreen='\\033[0;102m'   # Green\nOn_IYellow='\\033[0;103m'  # Yellow\nOn_IBlue='\\033[0;104m'    # Blue\nOn_IPurple='\\033[0;105m'  # Purple\nOn_ICyan='\\033[0;106m'    # Cyan\nOn_IWhite='\\033[0;107m'   # White\n\nfunction check_if_mysql_is_ready() {\n  echo \"$(MYSQL_PWD=${mysql_root_password} mysqladmin -h${mysql_host} -u${mysql_root_user} ping)\"\n}\n\nfunction show_message() {\n  message=\"$1\"\n  separator=\"*\"\n  width=$((${#message} + 6))\n  echo; echo -e \"${BIGreen}\"; printf %.s${separator} $(seq 1 ${width}); echo\n  echo \"-\u003e ${message} \u003c-\"\n  printf %.s${separator} $(seq 1 ${width}); echo -e \"${NC}\"\n}\n\nfunction main() {\n  show_message \"MySQL Database Creation for Take Home Assignment\"\n  while [[ \"$(check_if_mysql_is_ready)\" != \"mysqld is alive\" ]];\n  do\n    sleep 1;\n    check_if_mysql_is_ready\n  done\n  show_message \"MySQL is Ready Now\"\n\n  show_message \"Updating MySQL Initialization Script\"\n  sed -e \"s|{{MYSQL_DATABASE}}|${MYSQL_DATABASE}|g\"\\\n    -e \"s|{{MYSQL_USER}}|${MYSQL_USER}|g\"\\\n    -e \"s|{{MYSQL_PASSWORD}}|${MYSQL_PASSWORD}|g\"\\\n    \"/tmp/init.sql\" \u003e \"/tmp/deploy_init.sql\";\n\n  show_message \"Applying MySQL Initialization Script\"\n  MYSQL_PWD=${MYSQL_ROOT_PASSWORD} mysql -h${MYSQL_HOST} -u${MYSQL_ROOT_USER} -e \u003c \"/tmp/deploy_init.sql\";\n\n  show_message \"Executing Query into ${mysql_database}\"\n  MYSQL_PWD=${MYSQL_PASSWORD} mysql -h${MYSQL_HOST} -u${MYSQL_USER} -s -r -e \u003c echo \"SELECT VERSION();\"\n\n  show_message \"Done.\"\n  # rm -rf \"/tmp/deploy_init.sql\";\n}\n\ntime main",
              "init.sh": "#!/bin/sh\n\n# Init Container Script\ndate -u '+%Y-%m-%d_%H:%M:%S'\n\ncat /app/server.config\ncat /app/init.sql\ncat /app/init.sh\n\nsecs=30;\nwhile [ $secs -gt 0 ]; do\n  echo -ne \"Waiting for $secs\\033[0K\\r\"\n  sleep 1\n  : $((secs--))\ndone",
              "prestop.sh": "#!/bin/sh\n# PreStop Script for Graceful Shooting Down\necho \"Stopping container now...\" \u0026\u0026 kill -n SIGINT 1 \u003e /proc/1/fd/1"
            },
            "id": "webserver-assessment/executable-scripts",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {
                  "app": "dockerize"
                },
                "name": "executable-scripts",
                "namespace": "webserver-assessment",
                "resource_version": "7104",
                "uid": "85de65e0-7e0e-4d66-860f-5b8a66141ffa"
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_config_map",
      "name": "config_maps_sql",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "binary_data": {},
            "data": {
              "init.sql": "CREATE DATABASE IF NOT EXISTS {{MYSQL_DATABASE}};\nCREATE USER IF NOT EXISTS {{MYSQL_USER}} IDENTIFIED BY '{{MYSQL_PASSWORD}}';\nGRANT ALL PRIVILEGES ON {{MYSQL_DATABASE}}.* TO {{MYSQL_USER}} WITH GRANT OPTION;\nGRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, INDEX, ALTER, CREATE TEMPORARY TABLES ON {{MYSQL_DATABASE}}.* TO {{MYSQL_USER}} WITH GRANT OPTION;\nFLUSH PRIVILEGES;\nUSE {{MYSQL_DATABASE}};\n\nSHOW GRANTS FOR {{MYSQL_USER}};\n\nCREATE TABLE IF NOT EXISTS articles\n(\n  id         int unsigned auto_increment primary key,\n  title      longtext    not null,\n  post_text  longtext    not null,\n  date       datetime(3) not null,\n  image_url  longtext    not null\n  );\n\nCREATE TABLE IF NOT EXISTS tags\n(\n  id  int unsigned auto_increment primary key,\n  tag varchar(500)  not null\n  );\n\nCREATE TABLE IF NOT EXISTS articles_tags (\n                                           id          INT unsigned AUTO_INCREMENT,\n                                           pf_articles INT unsigned NOT NULL,\n                                           pf_tags     INT unsigned NOT NULL,\n                                           PRIMARY     KEY (id),\n  FOREIGN     KEY (pf_articles) REFERENCES articles (id),\n  FOREIGN     KEY (pf_tags) REFERENCES tags (id)\n  );\n\nDROP VIEW IF EXISTS blog_posts;\nCREATE VIEW blog_posts AS\nSELECT\n  articles.id AS idblog_posts,\n  articles.title,\n  articles.post_text,\n  articles.date,\n  articles.image_url,\n  cast(concat('[', group_concat(json_quote(tags.tag) ORDER BY tags.tag SEPARATOR ','), ']') as json) AS tags\nFROM\n  articles\n    INNER JOIN articles_tags\n               ON articles.id = articles_tags.pf_articles\n    INNER JOIN tags\n               ON articles_tags.pf_tags = tags.id\nGROUP BY articles.id;\n\n# Data\nINSERT INTO tags (tag) VALUES ('Automation');\nINSERT INTO tags (tag) VALUES ('DevOps');\nINSERT INTO tags (tag) VALUES ('DevSecOps');\n\nINSERT INTO articles (title, post_text, date, image_url)\nVALUES ('DevSecOps Assessment1', 'This is a Blog Test1', '2022-09-11 16:35:21.000', '../Images/DevSecOps.png');\n\nINSERT INTO articles (title, post_text, date, image_url)\nVALUES ('DevSecOps Assessment2', 'This is a Blog Test2', '2022-09-11 16:35:21.000', '../Images/Accelera-DevSecOps-Security-Controls-Infographic_v1.0_2020_feature.jpg');\n\nINSERT INTO articles (title, post_text, date, image_url)\nVALUES ('DevSecOps Assessment3', 'This is a Blog Test3', '2022-09-11 16:35:21.000', '../Images/devops-simbolo-01.png');\n\nINSERT INTO articles (title, post_text, date, image_url)\nVALUES ('Automation Assessment1', 'This is a Blog Automation Test1', '2022-09-11 16:35:21.000', '../Images/devops-tools.png');\n\nINSERT INTO articles (title, post_text, date, image_url)\nVALUES ('Automation Assessment2', 'This is a Blog Automation Test2', '2022-09-11 16:35:21.000', '../Images/devsecops-diagram.png');\n\nINSERT INTO articles (title, post_text, date, image_url)\nVALUES ('DevSecOps Automation Assessment1', 'This is a Blog Automation Test1', '2022-09-11 16:35:21.000', '../Images/finops.png');\n\nINSERT INTO articles_tags (pf_articles, pf_tags) VALUES (1, 2);\nINSERT INTO articles_tags (pf_articles, pf_tags) VALUES (1, 3);\nINSERT INTO articles_tags (pf_articles, pf_tags) VALUES (2, 2);\nINSERT INTO articles_tags (pf_articles, pf_tags) VALUES (2, 3);\nINSERT INTO articles_tags (pf_articles, pf_tags) VALUES (3, 2);\nINSERT INTO articles_tags (pf_articles, pf_tags) VALUES (3, 3);\nINSERT INTO articles_tags (pf_articles, pf_tags) VALUES (4, 1);\nINSERT INTO articles_tags (pf_articles, pf_tags) VALUES (5, 1);\nINSERT INTO articles_tags (pf_articles, pf_tags) VALUES (6, 1);\nINSERT INTO articles_tags (pf_articles, pf_tags) VALUES (6, 2);"
            },
            "id": "webserver-assessment/mysql-scripts",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {
                  "app": "dockerize"
                },
                "name": "mysql-scripts",
                "namespace": "webserver-assessment",
                "resource_version": "859",
                "uid": "3dbed90e-4074-4619-8da9-437624df7e17"
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_deployment",
      "name": "deployment",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "webserver-assessment/dockerize",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 1,
                "labels": {
                  "app": "dockerize"
                },
                "name": "dockerize",
                "namespace": "webserver-assessment",
                "resource_version": "7786",
                "uid": "e0664f09-5b17-4707-9422-7c09c240ce95"
              }
            ],
            "spec": [
              {
                "min_ready_seconds": 0,
                "paused": false,
                "progress_deadline_seconds": 300,
                "replicas": "2",
                "revision_history_limit": 10,
                "selector": [
                  {
                    "match_expressions": [],
                    "match_labels": {
                      "app": "dockerize"
                    }
                  }
                ],
                "strategy": [
                  {
                    "rolling_update": [
                      {
                        "max_surge": "1",
                        "max_unavailable": "0"
                      }
                    ],
                    "type": "RollingUpdate"
                  }
                ],
                "template": [
                  {
                    "metadata": [
                      {
                        "annotations": {},
                        "generate_name": "",
                        "generation": 0,
                        "labels": {
                          "app": "dockerize"
                        },
                        "name": "dockerize",
                        "namespace": "webserver-assessment",
                        "resource_version": "",
                        "uid": ""
                      }
                    ],
                    "spec": [
                      {
                        "active_deadline_seconds": 0,
                        "affinity": [],
                        "automount_service_account_token": true,
                        "container": [
                          {
                            "args": [],
                            "command": [],
                            "env": [],
                            "env_from": [
                              {
                                "config_map_ref": [],
                                "prefix": "",
                                "secret_ref": [
                                  {
                                    "name": "database-secrets",
                                    "optional": false
                                  }
                                ]
                              }
                            ],
                            "image": "elioseverojunior/dockerize:latest",
                            "image_pull_policy": "IfNotPresent",
                            "lifecycle": [
                              {
                                "post_start": [],
                                "pre_stop": [
                                  {
                                    "exec": [
                                      {
                                        "command": [
                                          "sh",
                                          "-c",
                                          "/app/scripts/prestop.sh"
                                        ]
                                      }
                                    ],
                                    "http_get": [],
                                    "tcp_socket": []
                                  }
                                ]
                              }
                            ],
                            "liveness_probe": [
                              {
                                "exec": [],
                                "failure_threshold": 3,
                                "http_get": [
                                  {
                                    "host": "",
                                    "http_header": [],
                                    "path": "/",
                                    "port": "8080",
                                    "scheme": "HTTP"
                                  }
                                ],
                                "initial_delay_seconds": 10,
                                "period_seconds": 5,
                                "success_threshold": 1,
                                "tcp_socket": [],
                                "timeout_seconds": 2
                              }
                            ],
                            "name": "dockerize",
                            "port": [
                              {
                                "container_port": 8080,
                                "host_ip": "",
                                "host_port": 0,
                                "name": "",
                                "protocol": "TCP"
                              }
                            ],
                            "readiness_probe": [
                              {
                                "exec": [],
                                "failure_threshold": 3,
                                "http_get": [
                                  {
                                    "host": "",
                                    "http_header": [],
                                    "path": "/",
                                    "port": "8080",
                                    "scheme": "HTTP"
                                  }
                                ],
                                "initial_delay_seconds": 10,
                                "period_seconds": 10,
                                "success_threshold": 1,
                                "tcp_socket": [],
                                "timeout_seconds": 2
                              }
                            ],
                            "resources": [
                              {
                                "limits": {
                                  "cpu": "100m",
                                  "memory": "128Mi"
                                },
                                "requests": {
                                  "cpu": "100m",
                                  "memory": "128Mi"
                                }
                              }
                            ],
                            "security_context": [],
                            "startup_probe": [],
                            "stdin": false,
                            "stdin_once": false,
                            "termination_message_path": "/dev/termination-log",
                            "termination_message_policy": "File",
                            "tty": false,
                            "volume_mount": [
                              {
                                "mount_path": "/app/server.config",
                                "mount_propagation": "None",
                                "name": "database-secrets",
                                "read_only": true,
                                "sub_path": "server.config"
                              },
                              {
                                "mount_path": "/app/scripts/prestop.sh",
                                "mount_propagation": "None",
                                "name": "executable-scripts",
                                "read_only": true,
                                "sub_path": "prestop.sh"
                              }
                            ],
                            "working_dir": ""
                          }
                        ],
                        "dns_config": [],
                        "dns_policy": "ClusterFirst",
                        "enable_service_links": true,
                        "host_aliases": [],
                        "host_ipc": false,
                        "host_network": false,
                        "host_pid": false,
                        "hostname": "",
                        "image_pull_secrets": [],
                        "init_container": [
                          {
                            "args": [],
                            "command": [
                              "/bin/sh",
                              "-c",
                              "/app/init.sh"
                            ],
                            "env": [],
                            "env_from": [
                              {
                                "config_map_ref": [],
                                "prefix": "",
                                "secret_ref": [
                                  {
                                    "name": "database-secrets",
                                    "optional": false
                                  }
                                ]
                              }
                            ],
                            "image": "busybox",
                            "image_pull_policy": "IfNotPresent",
                            "lifecycle": [],
                            "liveness_probe": [],
                            "name": "init",
                            "port": [],
                            "readiness_probe": [],
                            "resources": [
                              {
                                "limits": null,
                                "requests": null
                              }
                            ],
                            "security_context": [],
                            "startup_probe": [],
                            "stdin": false,
                            "stdin_once": false,
                            "termination_message_path": "/dev/termination-log",
                            "termination_message_policy": "File",
                            "tty": false,
                            "volume_mount": [
                              {
                                "mount_path": "/app/server.config",
                                "mount_propagation": "None",
                                "name": "database-secrets",
                                "read_only": true,
                                "sub_path": "server.config"
                              },
                              {
                                "mount_path": "/app/init.sh",
                                "mount_propagation": "None",
                                "name": "executable-scripts",
                                "read_only": true,
                                "sub_path": "init.sh"
                              },
                              {
                                "mount_path": "/app/init.sql",
                                "mount_propagation": "None",
                                "name": "mysql-scripts",
                                "read_only": true,
                                "sub_path": "init.sql"
                              }
                            ],
                            "working_dir": ""
                          }
                        ],
                        "node_name": "",
                        "node_selector": {},
                        "priority_class_name": "",
                        "readiness_gate": [],
                        "restart_policy": "Always",
                        "security_context": [],
                        "service_account_name": "",
                        "share_process_namespace": false,
                        "subdomain": "",
                        "termination_grace_period_seconds": 60,
                        "toleration": [],
                        "topology_spread_constraint": [],
                        "volume": [
                          {
                            "aws_elastic_block_store": [],
                            "azure_disk": [],
                            "azure_file": [],
                            "ceph_fs": [],
                            "cinder": [],
                            "config_map": [],
                            "csi": [],
                            "downward_api": [],
                            "empty_dir": [],
                            "fc": [],
                            "flex_volume": [],
                            "flocker": [],
                            "gce_persistent_disk": [],
                            "git_repo": [],
                            "glusterfs": [],
                            "host_path": [],
                            "iscsi": [],
                            "local": [],
                            "name": "database-secrets",
                            "nfs": [],
                            "persistent_volume_claim": [],
                            "photon_persistent_disk": [],
                            "projected": [],
                            "quobyte": [],
                            "rbd": [],
                            "secret": [
                              {
                                "default_mode": "0644",
                                "items": [
                                  {
                                    "key": "server.config",
                                    "mode": "",
                                    "path": "server.config"
                                  }
                                ],
                                "optional": false,
                                "secret_name": "database-secrets"
                              }
                            ],
                            "vsphere_volume": []
                          },
                          {
                            "aws_elastic_block_store": [],
                            "azure_disk": [],
                            "azure_file": [],
                            "ceph_fs": [],
                            "cinder": [],
                            "config_map": [
                              {
                                "default_mode": "0755",
                                "items": [
                                  {
                                    "key": "init.sh",
                                    "mode": "",
                                    "path": "init.sh"
                                  },
                                  {
                                    "key": "prestop.sh",
                                    "mode": "",
                                    "path": "prestop.sh"
                                  }
                                ],
                                "name": "executable-scripts",
                                "optional": false
                              }
                            ],
                            "csi": [],
                            "downward_api": [],
                            "empty_dir": [],
                            "fc": [],
                            "flex_volume": [],
                            "flocker": [],
                            "gce_persistent_disk": [],
                            "git_repo": [],
                            "glusterfs": [],
                            "host_path": [],
                            "iscsi": [],
                            "local": [],
                            "name": "executable-scripts",
                            "nfs": [],
                            "persistent_volume_claim": [],
                            "photon_persistent_disk": [],
                            "projected": [],
                            "quobyte": [],
                            "rbd": [],
                            "secret": [],
                            "vsphere_volume": []
                          },
                          {
                            "aws_elastic_block_store": [],
                            "azure_disk": [],
                            "azure_file": [],
                            "ceph_fs": [],
                            "cinder": [],
                            "config_map": [
                              {
                                "default_mode": "0755",
                                "items": [
                                  {
                                    "key": "init.sql",
                                    "mode": "",
                                    "path": "init.sql"
                                  }
                                ],
                                "name": "mysql-scripts",
                                "optional": false
                              }
                            ],
                            "csi": [],
                            "downward_api": [],
                            "empty_dir": [],
                            "fc": [],
                            "flex_volume": [],
                            "flocker": [],
                            "gce_persistent_disk": [],
                            "git_repo": [],
                            "glusterfs": [],
                            "host_path": [],
                            "iscsi": [],
                            "local": [],
                            "name": "mysql-scripts",
                            "nfs": [],
                            "persistent_volume_claim": [],
                            "photon_persistent_disk": [],
                            "projected": [],
                            "quobyte": [],
                            "rbd": [],
                            "secret": [],
                            "vsphere_volume": []
                          }
                        ]
                      }
                    ]
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_rollout": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "kubernetes_config_map.config_maps_scripts"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_horizontal_pod_autoscaler_v2",
      "name": "hpa",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "webserver-assessment/dockerize",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {
                  "app": "dockerize"
                },
                "name": "dockerize",
                "namespace": "webserver-assessment",
                "resource_version": "7887",
                "uid": "b70c4730-2e8e-4279-a215-030e8914fe2e"
              }
            ],
            "spec": [
              {
                "behavior": [
                  {
                    "scale_down": [
                      {
                        "policy": [
                          {
                            "period_seconds": 120,
                            "type": "Pods",
                            "value": 1
                          },
                          {
                            "period_seconds": 310,
                            "type": "Percent",
                            "value": 100
                          }
                        ],
                        "select_policy": "Min",
                        "stabilization_window_seconds": 300
                      }
                    ],
                    "scale_up": [
                      {
                        "policy": [
                          {
                            "period_seconds": 180,
                            "type": "Percent",
                            "value": 100
                          },
                          {
                            "period_seconds": 600,
                            "type": "Pods",
                            "value": 5
                          }
                        ],
                        "select_policy": "Max",
                        "stabilization_window_seconds": 600
                      }
                    ]
                  }
                ],
                "max_replicas": 10,
                "metric": [
                  {
                    "container_resource": [],
                    "external": [],
                    "object": [],
                    "pods": [],
                    "resource": [
                      {
                        "name": "memory",
                        "target": [
                          {
                            "average_utilization": 50,
                            "average_value": "",
                            "type": "Utilization",
                            "value": ""
                          }
                        ]
                      }
                    ],
                    "type": "Resource"
                  },
                  {
                    "container_resource": [],
                    "external": [],
                    "object": [],
                    "pods": [],
                    "resource": [
                      {
                        "name": "cpu",
                        "target": [
                          {
                            "average_utilization": 50,
                            "average_value": "",
                            "type": "Utilization",
                            "value": ""
                          }
                        ]
                      }
                    ],
                    "type": "Resource"
                  }
                ],
                "min_replicas": 2,
                "scale_target_ref": [
                  {
                    "api_version": "apps/v1",
                    "kind": "Deployment",
                    "name": "dockerize"
                  }
                ],
                "target_cpu_utilization_percentage": 0
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "kubernetes_deployment.deployment"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_secret",
      "name": "database_secrets",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "binary_data": null,
            "data": {
              "MYSQL_DATABASE": "YmxvZw==",
              "MYSQL_HOST": "bXlzcWw=",
              "MYSQL_PASSWORD": "QGJsb2dwb3N0UEBzc3cwcmQ=",
              "MYSQL_PORT": "MzMwNg==",
              "MYSQL_ROOT_PASSWORD": "cm9vdA==",
              "MYSQL_ROOT_USER": "cm9vdA==",
              "MYSQL_USER": "YmxvZ3Bvc3RfdXNlcg==",
              "server.config": "blogpost_user:@blogpostP@ssw0rd@tcp(mysql:3306)/blog"
            },
            "id": "webserver-assessment/database-secrets",
            "immutable": false,
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {
                  "app": "dockerize"
                },
                "name": "database-secrets",
                "namespace": "webserver-assessment",
                "resource_version": "7908",
                "uid": "cee18cd2-8abe-48a2-8762-74d05114e214"
              }
            ],
            "type": "Opaque"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "local_sensitive_file.secret_string_data"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_service",
      "name": "service",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "webserver-assessment/dockerize",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {
                  "app": "dockerize"
                },
                "name": "dockerize",
                "namespace": "webserver-assessment",
                "resource_version": "1028",
                "uid": "1e9b328d-7733-4e3c-928f-34e745909b25"
              }
            ],
            "spec": [
              {
                "allocate_load_balancer_node_ports": true,
                "cluster_ip": "10.100.109.171",
                "cluster_ips": [
                  "10.100.109.171"
                ],
                "external_ips": [],
                "external_name": "",
                "external_traffic_policy": "Cluster",
                "health_check_node_port": 0,
                "internal_traffic_policy": "Cluster",
                "ip_families": [
                  "IPv4"
                ],
                "ip_family_policy": "SingleStack",
                "load_balancer_class": "",
                "load_balancer_ip": "",
                "load_balancer_source_ranges": [],
                "port": [
                  {
                    "app_protocol": "",
                    "name": "http",
                    "node_port": 32650,
                    "port": 80,
                    "protocol": "TCP",
                    "target_port": "8080"
                  }
                ],
                "publish_not_ready_addresses": false,
                "selector": {
                  "app": "dockerize"
                },
                "session_affinity": "None",
                "session_affinity_config": [],
                "type": "LoadBalancer"
              }
            ],
            "status": [
              {
                "load_balancer": [
                  {
                    "ingress": []
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_load_balancer": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "kubernetes_config_map.config_maps_scripts",
            "kubernetes_deployment.deployment"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "local_file",
      "name": "deployment_yaml",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "\"id\": \"webserver-assessment/dockerize\"\n\"metadata\":\n- \"annotations\": {}\n  \"generate_name\": \"\"\n  \"generation\": 1\n  \"labels\":\n    \"app\": \"dockerize\"\n  \"name\": \"dockerize\"\n  \"namespace\": \"webserver-assessment\"\n  \"resource_version\": \"7786\"\n  \"uid\": \"e0664f09-5b17-4707-9422-7c09c240ce95\"\n\"spec\":\n- \"min_ready_seconds\": 0\n  \"paused\": false\n  \"progress_deadline_seconds\": 300\n  \"replicas\": \"2\"\n  \"revision_history_limit\": 10\n  \"selector\":\n  - \"match_expressions\": []\n    \"match_labels\":\n      \"app\": \"dockerize\"\n  \"strategy\":\n  - \"rolling_update\":\n    - \"max_surge\": \"1\"\n      \"max_unavailable\": \"0\"\n    \"type\": \"RollingUpdate\"\n  \"template\":\n  - \"metadata\":\n    - \"annotations\": {}\n      \"generate_name\": \"\"\n      \"generation\": 0\n      \"labels\":\n        \"app\": \"dockerize\"\n      \"name\": \"dockerize\"\n      \"namespace\": \"webserver-assessment\"\n      \"resource_version\": \"\"\n      \"uid\": \"\"\n    \"spec\":\n    - \"active_deadline_seconds\": 0\n      \"affinity\": []\n      \"automount_service_account_token\": true\n      \"container\":\n      - \"args\": []\n        \"command\": []\n        \"env\": []\n        \"env_from\":\n        - \"config_map_ref\": []\n          \"prefix\": \"\"\n          \"secret_ref\":\n          - \"name\": \"database-secrets\"\n            \"optional\": false\n        \"image\": \"elioseverojunior/dockerize:latest\"\n        \"image_pull_policy\": \"IfNotPresent\"\n        \"lifecycle\":\n        - \"post_start\": []\n          \"pre_stop\":\n          - \"exec\":\n            - \"command\":\n              - \"sh\"\n              - \"-c\"\n              - \"/app/scripts/prestop.sh\"\n            \"http_get\": []\n            \"tcp_socket\": []\n        \"liveness_probe\":\n        - \"exec\": []\n          \"failure_threshold\": 3\n          \"http_get\":\n          - \"host\": \"\"\n            \"http_header\": []\n            \"path\": \"/\"\n            \"port\": \"8080\"\n            \"scheme\": \"HTTP\"\n          \"initial_delay_seconds\": 10\n          \"period_seconds\": 5\n          \"success_threshold\": 1\n          \"tcp_socket\": []\n          \"timeout_seconds\": 2\n        \"name\": \"dockerize\"\n        \"port\":\n        - \"container_port\": 8080\n          \"host_ip\": \"\"\n          \"host_port\": 0\n          \"name\": \"\"\n          \"protocol\": \"TCP\"\n        \"readiness_probe\":\n        - \"exec\": []\n          \"failure_threshold\": 3\n          \"http_get\":\n          - \"host\": \"\"\n            \"http_header\": []\n            \"path\": \"/\"\n            \"port\": \"8080\"\n            \"scheme\": \"HTTP\"\n          \"initial_delay_seconds\": 10\n          \"period_seconds\": 10\n          \"success_threshold\": 1\n          \"tcp_socket\": []\n          \"timeout_seconds\": 2\n        \"resources\":\n        - \"limits\":\n            \"cpu\": \"100m\"\n            \"memory\": \"128Mi\"\n          \"requests\":\n            \"cpu\": \"100m\"\n            \"memory\": \"128Mi\"\n        \"security_context\": []\n        \"startup_probe\": []\n        \"stdin\": false\n        \"stdin_once\": false\n        \"termination_message_path\": \"/dev/termination-log\"\n        \"termination_message_policy\": \"File\"\n        \"tty\": false\n        \"volume_mount\":\n        - \"mount_path\": \"/app/server.config\"\n          \"mount_propagation\": \"None\"\n          \"name\": \"database-secrets\"\n          \"read_only\": true\n          \"sub_path\": \"server.config\"\n        - \"mount_path\": \"/app/scripts/prestop.sh\"\n          \"mount_propagation\": \"None\"\n          \"name\": \"executable-scripts\"\n          \"read_only\": true\n          \"sub_path\": \"prestop.sh\"\n        \"working_dir\": \"\"\n      \"dns_config\": []\n      \"dns_policy\": \"ClusterFirst\"\n      \"enable_service_links\": true\n      \"host_aliases\": []\n      \"host_ipc\": false\n      \"host_network\": false\n      \"host_pid\": false\n      \"hostname\": \"\"\n      \"image_pull_secrets\": []\n      \"init_container\":\n      - \"args\": []\n        \"command\":\n        - \"/bin/sh\"\n        - \"-c\"\n        - \"/app/init.sh\"\n        \"env\": []\n        \"env_from\":\n        - \"config_map_ref\": []\n          \"prefix\": \"\"\n          \"secret_ref\":\n          - \"name\": \"database-secrets\"\n            \"optional\": false\n        \"image\": \"busybox\"\n        \"image_pull_policy\": \"IfNotPresent\"\n        \"lifecycle\": []\n        \"liveness_probe\": []\n        \"name\": \"init\"\n        \"port\": []\n        \"readiness_probe\": []\n        \"resources\":\n        - \"limits\": null\n          \"requests\": null\n        \"security_context\": []\n        \"startup_probe\": []\n        \"stdin\": false\n        \"stdin_once\": false\n        \"termination_message_path\": \"/dev/termination-log\"\n        \"termination_message_policy\": \"File\"\n        \"tty\": false\n        \"volume_mount\":\n        - \"mount_path\": \"/app/server.config\"\n          \"mount_propagation\": \"None\"\n          \"name\": \"database-secrets\"\n          \"read_only\": true\n          \"sub_path\": \"server.config\"\n        - \"mount_path\": \"/app/init.sh\"\n          \"mount_propagation\": \"None\"\n          \"name\": \"executable-scripts\"\n          \"read_only\": true\n          \"sub_path\": \"init.sh\"\n        - \"mount_path\": \"/app/init.sql\"\n          \"mount_propagation\": \"None\"\n          \"name\": \"mysql-scripts\"\n          \"read_only\": true\n          \"sub_path\": \"init.sql\"\n        \"working_dir\": \"\"\n      \"node_name\": \"\"\n      \"node_selector\": {}\n      \"priority_class_name\": \"\"\n      \"readiness_gate\": []\n      \"restart_policy\": \"Always\"\n      \"security_context\": []\n      \"service_account_name\": \"\"\n      \"share_process_namespace\": false\n      \"subdomain\": \"\"\n      \"termination_grace_period_seconds\": 60\n      \"toleration\": []\n      \"topology_spread_constraint\": []\n      \"volume\":\n      - \"aws_elastic_block_store\": []\n        \"azure_disk\": []\n        \"azure_file\": []\n        \"ceph_fs\": []\n        \"cinder\": []\n        \"config_map\": []\n        \"csi\": []\n        \"downward_api\": []\n        \"empty_dir\": []\n        \"fc\": []\n        \"flex_volume\": []\n        \"flocker\": []\n        \"gce_persistent_disk\": []\n        \"git_repo\": []\n        \"glusterfs\": []\n        \"host_path\": []\n        \"iscsi\": []\n        \"local\": []\n        \"name\": \"database-secrets\"\n        \"nfs\": []\n        \"persistent_volume_claim\": []\n        \"photon_persistent_disk\": []\n        \"projected\": []\n        \"quobyte\": []\n        \"rbd\": []\n        \"secret\":\n        - \"default_mode\": \"0644\"\n          \"items\":\n          - \"key\": \"server.config\"\n            \"mode\": \"\"\n            \"path\": \"server.config\"\n          \"optional\": false\n          \"secret_name\": \"database-secrets\"\n        \"vsphere_volume\": []\n      - \"aws_elastic_block_store\": []\n        \"azure_disk\": []\n        \"azure_file\": []\n        \"ceph_fs\": []\n        \"cinder\": []\n        \"config_map\":\n        - \"default_mode\": \"0755\"\n          \"items\":\n          - \"key\": \"init.sh\"\n            \"mode\": \"\"\n            \"path\": \"init.sh\"\n          - \"key\": \"prestop.sh\"\n            \"mode\": \"\"\n            \"path\": \"prestop.sh\"\n          \"name\": \"executable-scripts\"\n          \"optional\": false\n        \"csi\": []\n        \"downward_api\": []\n        \"empty_dir\": []\n        \"fc\": []\n        \"flex_volume\": []\n        \"flocker\": []\n        \"gce_persistent_disk\": []\n        \"git_repo\": []\n        \"glusterfs\": []\n        \"host_path\": []\n        \"iscsi\": []\n        \"local\": []\n        \"name\": \"executable-scripts\"\n        \"nfs\": []\n        \"persistent_volume_claim\": []\n        \"photon_persistent_disk\": []\n        \"projected\": []\n        \"quobyte\": []\n        \"rbd\": []\n        \"secret\": []\n        \"vsphere_volume\": []\n      - \"aws_elastic_block_store\": []\n        \"azure_disk\": []\n        \"azure_file\": []\n        \"ceph_fs\": []\n        \"cinder\": []\n        \"config_map\":\n        - \"default_mode\": \"0755\"\n          \"items\":\n          - \"key\": \"init.sql\"\n            \"mode\": \"\"\n            \"path\": \"init.sql\"\n          \"name\": \"mysql-scripts\"\n          \"optional\": false\n        \"csi\": []\n        \"downward_api\": []\n        \"empty_dir\": []\n        \"fc\": []\n        \"flex_volume\": []\n        \"flocker\": []\n        \"gce_persistent_disk\": []\n        \"git_repo\": []\n        \"glusterfs\": []\n        \"host_path\": []\n        \"iscsi\": []\n        \"local\": []\n        \"name\": \"mysql-scripts\"\n        \"nfs\": []\n        \"persistent_volume_claim\": []\n        \"photon_persistent_disk\": []\n        \"projected\": []\n        \"quobyte\": []\n        \"rbd\": []\n        \"secret\": []\n        \"vsphere_volume\": []\n\"timeouts\": null\n\"wait_for_rollout\": true\n",
            "content_base64": null,
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": "./main.yaml",
            "id": "31fd25ccdf80d6864684e6c1b98162228689575f",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "kubernetes_deployment.deployment"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "local_sensitive_file",
      "name": "secret_string_data",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "index_key": "server.config",
          "schema_version": 0,
          "attributes": {
            "content": "blogpost_user:@blogpostP@ssw0rd@tcp(mysql:3306)/blog",
            "content_base64": null,
            "directory_permission": "0700",
            "file_permission": "0700",
            "filename": "./.cache/server.config",
            "id": "220bb08dd680aebd4a8f92391129f6f635437638",
            "source": null
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    }
  ]
}
